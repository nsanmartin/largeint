#include <tests.hpp>
#include <iomanip>



void test_natural_plus_digit(std::string natural, lint::digit_t digit, std::string resultado) {

    lint::natural n { natural };
    std::cout << n << " += " << digit << " == "; 
     
    n += digit;

    std::cout << n << ' ';
    if (resultado == n.to_string()) {
        std::cout << "Ok\n";
    } else {
        std::cerr << "\nerror!!\n\n"
                  << "expected: " << resultado << '\n'
                  << "obtained: " << n.to_string() << '\n';
        std::exit(1);
    }
}

int main() {
    test_natural_plus_digit("ffffffffffffffffffffffffffffffffffffa0", 0x0, "ffffffffffffffffffffffffffffffffffffa0");
    
    test_natural_plus_digit("ffffffffffffffffffff0011dffffffffffffffff", 0x1, "ffffffffffffffffffff0011e0000000000000000");
    test_natural_plus_digit("ffffffffffffffffffffffffffffffffffff", 0x2, "1000000000000000000000000000000000001");
    test_natural_plus_digit("ffffffffffffffffffffffffffffffffffff", 0xffffffffffff, "1000000000000000000000000fffffffffffe");
    test_natural_plus_digit(
        "5922a669fa982280568452515094f16374a534055f6a439903585f93a263f69ff8951a7033924627373f7f09a706359a58962946021287f6470af92167a650850a08313478fa92a1a8151048f3589f93ff84a09617a739a6010930f044f0514f405103ff28a96f74fa792828082565aa0a3147500902585f37062f6754f6f27f187af68449504f8848062377673f1f6242493367a1f3934fa897884a41f5832a777742745a2077035878333325373751354f25932488567522490251fa84fa32ff4539595f42f03a6151663373286f89977f45f47791570a68952173127317871766384868f0039f264652a764067f9946a4814332275920f274171895f99272243a0ff681112381481a45799676154881205528672474559205f333074141af7f649639f29f079424370f76a2a422a88698056421f70aa406f0f95faf16463594173f119932af116405273fa7513800198306a692f553078ff6f0880739523995978935f5890056139426699",
        0xa37f94623,
        "5922a669fa982280568452515094f16374a534055f6a439903585f93a263f69ff8951a7033924627373f7f09a706359a58962946021287f6470af92167a650850a08313478fa92a1a8151048f3589f93ff84a09617a739a6010930f044f0514f405103ff28a96f74fa792828082565aa0a3147500902585f37062f6754f6f27f187af68449504f8848062377673f1f6242493367a1f3934fa897884a41f5832a777742745a2077035878333325373751354f25932488567522490251fa84fa32ff4539595f42f03a6151663373286f89977f45f47791570a68952173127317871766384868f0039f264652a764067f9946a4814332275920f274171895f99272243a0ff681112381481a45799676154881205528672474559205f333074141af7f649639f29f079424370f76a2a422a88698056421f70aa406f0f95faf16463594173f119932af116405273fa7513800198306a692f553078ff6f0880739523995978935f5890056b713bacbc");
    
}


